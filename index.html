<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRGP Pick Helper</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #0f4c27 0%, #1a7a3e 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 800px; margin: 0 auto; }
        .header {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 { color: #0f4c27; font-size: 24px; margin-bottom: 8px; }
        .subtitle { color: #666; font-size: 14px; }
        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .tournament-item {
            padding: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .tournament-item:hover { border-color: #0f4c27; background: #f8fff8; }
        .tournament-item.completed { opacity: 0.6; background: #f5f5f5; }
        .tournament-divider {
            margin: 24px 0;
            padding: 12px;
            background: #0f4c27;
            color: white;
            text-align: center;
            font-weight: 600;
            border-radius: 8px;
        }
        .golfer-item {
            padding: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 12px;
            cursor: pointer;
        }
        .golfer-item:hover { border-color: #0f4c27; background: #f8fff8; }
        .golfer-item.used { opacity: 0.5; text-decoration: line-through; }
        .back-btn {
            background: #0f4c27;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            margin-bottom: 16px;
        }
        .history-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .history-item {
            display: flex;
            justify-content: space-between;
            padding: 12px;
            background: white;
            border-radius: 6px;
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèåÔ∏è TRGP Pick Helper</h1>
            <div class="subtitle">2026 PGA Tour Research Tool</div>
        </div>
        <div id="app"></div>
    </div>

    <script>
        const state = {
            view: 'tournaments',
            selectedTournament: null,
            selectedGolfer: null,
            usedGolfers: JSON.parse(localStorage.getItem('usedGolfers') || '[]')
        };

        const tournaments = [
            { id: 'sentry-2026', name: "Sentry Tournament of Champions", date: "January 2-5, 2026", status: 'completed', winner: 'Hideki Matsuyama' },
            { id: 'wmpo-2026', name: "WM Phoenix Open", date: "February 6-9, 2026", status: 'in_progress', winner: null },
            { id: 'genesis-2026', name: "The Genesis Invitational", date: "February 13-16, 2026", status: 'upcoming', winner: null },
            { id: 'players-2026', name: "THE PLAYERS Championship", date: "March 12-15, 2026", status: 'upcoming', winner: null },
            { id: 'masters-2026', name: "Masters Tournament", date: "April 9-12, 2026", status: 'upcoming', winner: null },
            { id: 'pgachamp-2026', name: "PGA Championship", date: "May 14-17, 2026", status: 'upcoming', winner: null },
            { id: 'usopen-2026', name: "U.S. Open", date: "June 18-21, 2026", status: 'upcoming', winner: null }
        ];

        const golfers = [
            { id: 1, name: "Scottie Scheffler", country: "USA", rank: 1 },
            { id: 2, name: "Rory McIlroy", country: "NIR", rank: 2 },
            { id: 3, name: "Jon Rahm", country: "ESP", rank: 3 },
            { id: 5, name: "Xander Schauffele", country: "USA", rank: 5 },
            { id: 7, name: "Collin Morikawa", country: "USA", rank: 7 },
            { id: 12, name: "Brooks Koepka", country: "USA", rank: 12 },
            { id: 14, name: "Jordan Spieth", country: "USA", rank: 14 },
            { id: 16, name: "Justin Thomas", country: "USA", rank: 16 }
        ];

        const history = {
            1: {
                'masters-2026': [
                    { year: 2024, position: '1' },
                    { year: 2023, position: 'T10' },
                    { year: 2022, position: '1' }
                ],
                'players-2026': [
                    { year: 2024, position: 'T2' },
                    { year: 2023, position: '1' }
                ]
            },
            2: {
                'masters-2026': [
                    { year: 2024, position: 'T8' },
                    { year: 2023, position: '7' },
                    { year: 2022, position: '2' }
                ],
                'players-2026': [
                    { year: 2019, position: '1' }
                ]
            },
            3: {
                'masters-2026': [
                    { year: 2023, position: '1' },
                    { year: 2022, position: '2' }
                ]
            }
        };

        function render() {
            const app = document.getElementById('app');
            
            if (state.view === 'tournaments') {
                app.innerHTML = renderTournaments();
            } else if (state.view === 'golfers') {
                app.innerHTML = renderGolfers();
            } else if (state.view === 'detail') {
                app.innerHTML = renderDetail();
            }
        }

        function renderTournaments() {
            let html = '<div class="card"><h2>Tournaments</h2>';
            let shownDivider = false;
            
            tournaments.forEach(t => {
                if (!shownDivider && t.status === 'upcoming') {
                    html += '<div class="tournament-divider">‚õ≥ UPCOMING TOURNAMENTS</div>';
                    shownDivider = true;
                }
                
                html += `
                    <div class="tournament-item ${t.status === 'completed' ? 'completed' : ''}" onclick="selectTournament('${t.id}')">
                        <div style="font-weight: 600; color: #0f4c27;">${t.name}</div>
                        <div style="font-size: 14px; color: #666;">${t.date}</div>
                        ${t.winner ? `<div style="color: #27ae60;">üèÜ ${t.winner}</div>` : ''}
                    </div>
                `;
            });
            
            html += '</div>';
            return html;
        }

        function renderGolfers() {
            const t = tournaments.find(x => x.id === state.selectedTournament);
            let html = `
                <button class="back-btn" onclick="backToTournaments()">‚Üê Back</button>
                <div class="card">
                    <h2>${t.name}</h2>
                    <p style="color: #666; margin-bottom: 20px;">${t.date}</p>
            `;
            
            golfers.forEach(g => {
                const used = state.usedGolfers.includes(g.id);
                html += `
                    <div class="golfer-item ${used ? 'used' : ''}" onclick="selectGolfer(${g.id})">
                        <div style="display: flex; justify-content: space-between;">
                            <span style="font-weight: 600;">${g.name}</span>
                            <span style="background: #0f4c27; color: white; padding: 4px 12px; border-radius: 12px;">#${g.rank}</span>
                        </div>
                        <div style="font-size: 14px; color: #666; margin-top: 4px;">üåç ${g.country}</div>
                    </div>
                `;
            });
            
            html += '</div>';
            return html;
        }

        function renderDetail() {
            const golfer = golfers.find(g => g.id === state.selectedGolfer);
            const used = state.usedGolfers.includes(golfer.id);
            const hist = history[golfer.id] && history[golfer.id][state.selectedTournament] || [];
            
            let html = `
                <button class="back-btn" onclick="backToGolfers()">‚Üê Back</button>
                <div class="card">
                    <h2>${golfer.name}</h2>
                    <p style="color: #666; margin-bottom: 20px;">üåç ${golfer.country} ‚Ä¢ Rank #${golfer.rank}</p>
                    
                    <button onclick="toggleUsed(${golfer.id})" style="padding: 12px 24px; border-radius: 8px; border: 2px solid #0f4c27; background: ${used ? '#e74c3c' : 'white'}; color: ${used ? 'white' : '#0f4c27'}; cursor: pointer; margin-bottom: 20px;">
                        ${used ? '‚úì Already Used' : 'Mark as Used'}
                    </button>
            `;
            
            if (hist.length > 0) {
                html += `
                    <div class="history-box">
                        <h3 style="margin-bottom: 16px;">Tournament History</h3>
                `;
                hist.forEach(h => {
                    html += `
                        <div class="history-item">
                            <span style="font-weight: 600;">${h.year}</span>
                            <span style="color: #0f4c27; font-weight: 600;">${h.position}</span>
                        </div>
                    `;
                });
                html += '</div>';
            }
            
            html += '</div>';
            return html;
        }

        function selectTournament(id) {
            state.selectedTournament = id;
            state.view = 'golfers';
            render();
        }

        function selectGolfer(id) {
            state.selectedGolfer = id;
            state.view = 'detail';
            render();
        }

        function backToTournaments() {
            state.view = 'tournaments';
            render();
        }

        function backToGolfers() {
            state.view = 'golfers';
            render();
        }

        function toggleUsed(id) {
            if (state.usedGolfers.includes(id)) {
                state.usedGolfers = state.usedGolfers.filter(x => x !== id);
            } else {
                state.usedGolfers.push(id);
            }
            localStorage.setItem('usedGolfers', JSON.stringify(state.usedGolfers));
            render();
        }

        render();
    </script>
</body>
</html>
